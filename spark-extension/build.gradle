repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compileOnly 'org.scala-lang:scala-library:2.12.2'
    compileOnly "org.apache.spark:spark-core_2.12:3.0.3"
    compileOnly "org.apache.spark:spark-hive_2.12:3.0.3"
    compileOnly "org.apache.spark:spark-sql_2.12:3.0.3"
    implementation "com.google.protobuf:protobuf-java:3.21.9"
    implementation "org.apache.arrow:arrow-c-data:10.0.0"
    implementation "org.apache.arrow:arrow-compression:10.0.0"
    implementation "org.apache.arrow:arrow-memory-netty:10.0.0"
    implementation "org.apache.arrow:arrow-vector:10.0.0"
    testImplementation "org.scalatest:scalatest_2.12:3.2.14"
}

configurations.implementation {
    exclude module: "hive-hbase-handler"
    exclude module: "htrace-core"
    exclude module: "htrace-core-t"
    exclude module: "zstd-jni"
}

apply plugin: "com.google.protobuf"
protobuf {
    protoc {
        artifact = 'com.google.protobuf:protoc:3.21.9'
    }
    generatedFilesBaseDir = "$projectDir/src/generated-sources"
}
sourceSets.main.proto.srcDir "${rootDir}/native-engine/blaze-serde/proto"
